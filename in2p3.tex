\subsection{Deployment at IN2P3}

As part of its preparation for contributing 50\% of the processing of the annual LSST data releases, IN2P3 computing center (CC-IN2P3) deploys each  release of the LSST software stack as soon as it is  available.
Two mechanisms are used for this deployment. First, a deployment of both stable and weekly releases of the LSST software is made on a networked file system, accessible from all the hosts in both the login and batch farms of the site. The second mechanism used is the CernVM File System (CernVM-FS)\cite{1742-6596-331-4-042003}, an HTTP-based mechanism for distributing software packages over a wide area network. It is implemented as a POSIX read-only file system in user space with intelligent cache management. This file system can be mounted on a scientist's personal computer as well as on a compute node of a batch farm. This mechanism is well suited to guarantee that exactly the same software is used by scientists when developing their own software on top of LSST's and when executing their software at scale on CC-IN2P3's data processing platform.

Each deployment, be it of a weekly or a stable release, is as self-contained as possible, including most of its software dependencies and the Python interpreter it is built for. In addition, a select set of third party packages is deployed to extend the LSST software, making sure that no dependencies of the LSST stack are modified. The C++ compiler and runtime library, which the LSST software depends on, are not included in each release but are pre-installed in all hosts of the site.
Each extended release is installed from binaries (if available) or from source (see \S\ref{sec:scipipe-deploy-src}). It is typically composed of about 150,000 files and directories which, aggregated, take about 13GB of storage. At least the 12 most recent weekly releases and all stable releases are available at any given moment.

IN2P3 scientists, the end users of this continuous deployment, use the installed releases in several ways. They prepare batch jobs which use the LSST software stack for processing simulated or precursor data. They also use those releases to launch Python notebooks for data exploration, visualization, and rapid prototyping: they can easily choose the version they want to use for a particular notebook and launch it for execution on any host of the CC-IN2P3 login farm, which is co-located with the datasets they want to process.
\texttt{stackyter}\cite{stackyter}, a convenience SSH wrapper, is typically used for seamlessly and securely launching notebooks at CC-IN2P3 using the end user's credentials.

Dependable access to a data processing facility where scientists can use recent LSST software to process co-located datasets of significant size, without worrying about the technicalities of software deployment, has been proven very effective. It allows them to test new capabilities of the software and promptly detect regressions and provide feedback to the developers. The policy of removal of older weekly releases encourages them to continuously validate their own software against very recent LSST software.
